# ProtectedVar
### Позволяет защитить переменную от изменений для PHP 8.0.0+<br><br>

**НЕ ЗАБЫВАЙТЕ УКАЗЫВАТЬ `final`**

<br><br>
## Пример использования
**`main.php`**:
```php
// подключение ProtectedVar
require('ProtectedVar.php');

// создание псевдо-объекта с переменными, которые нужно защитить (final обязателен)
final class Safe
{
    // подключение возможностей из ProtectedVar
    use ProtectedVar;
}

// установка значения 123 переменной var1 (после установки изменения сразу блокируются)
Safe::var1(123);

// попытка установки нового значения
Safe::var1(321);

// вывод значения переменной
echo(Safe::var1().PHP_EOL);

// проверка существования переменной var1
echo((Safe::isset('var1') ? 1 : 0).PHP_EOL);

// тестовый класс
class BaseClass
{
    public int $var = 0;
}

// создание тестового объекта
$c = new BaseClass();

// установка значения $c переменной var2, второй аргумент - true (по умолчанию false)
// указывает на клонирование объекта при каждом его получении
Safe::var2($c, true);

$c2 = Safe::var2();
$c2->var = 1;

// вывод: 1 | 0
echo($c2->var.' | '.Safe::var2()->var.PHP_EOL);

// однако новые клоны синхронизируются с главным объектом при его изменении
$c->var = 2;
echo(Safe::var2()->var.PHP_EOL);

// вы можете использовать unset(), чтобы избежать этого
unset($c);
$c->var = 3; // ошибка
```
